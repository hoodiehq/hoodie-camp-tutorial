<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Hoodie Offline Tutorial</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="assets/vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="assets/vendor/prism/prism.css">
    <link rel="stylesheet" href="assets/css/main.css">

    <script src="assets/vendor/jquery-2.1.0.min.js"></script>
    <script src="assets/vendor/bootstrap/bootstrap.js"></script>
    <script src="assets/vendor/prism/prism.js"></script>
    <!-- Load the dynamic version of hoodie.js that includes all the plugin code-->
    <script src="/hoodie/client.js"></script>

    <script src="assets/vendor/bootstrap.modalform.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
        <h1>Hoodie Offline Tutorial</h1>
        <p>
          Learn how to work with data and user accounts.
        </p>
      </div>

      <div class="content">
        <h2>Am I online?</h2>

        <p>
          Once your app does not depend on an internet connection, this question
          actually matters a lot less than you might think. In many cases users simply
          do not care if they're connected or not, as long as the app works.
        </p>

        <p>
          For the cases where it does matter, hoodie provides a simple API:
        </p>

<script>
// start checking if server can be reached
hoodie.connectionStatus.startChecking({interval: 1000});

// check initial connection status
if (hoodie.connectionStatus.ok === false) {
  $('.connect-status').text('offline ¯\\_(ツ)_/¯');
}

hoodie.connectionStatus.on('disconnect', function () {
  $('.connect-status').text('offline ¯\\_(ツ)_/¯');
});
hoodie.connectionStatus.on('reconnect', function () {
  $('.connect-status').text('online :)');
});
</script>

        <p>
          You current connection status is: <strong class="connect-status">online :)</strong>
        </p>

        <p>
          By default, Hoodie checks the connection every 30 seconds once you
          run <code>hoodie.connectionStatus.startChecking()</code>. You can also
          check manually with <code>hoodie.connectionStatus.check()</code>.
        </p>

        <p>
          Turn off your wifi connection, then wait or run <code>hoodie.connectionStatus.check()</code>
          in your browser console, or press the button bellow. Watch the status shown above.
        </p>

        <p>
          <button class="btn btn-primary" onclick="hoodie.connectionStatus.check()">run <code>hoodie.connectionStatus.check()</code></button>
        </p>

        <p>
          And that’s it. If your app requires it, you can simply listen to the
          <code>disconnect</code> &amp; <code>reconnect</code> events to show
          notifications or similar.
        </p>

        <p>
          With that out of the way, let’s look into the more interesting part of
          Offline First apps: handling data.
        </p>
      </div>

      <footer class="copy">
        <p>&hearts; hood.ie 2016</p>
      </footer>
    </div> <!-- /.container -->

    <script src="assets/js/main.js"></script>
  </body>
</html>
